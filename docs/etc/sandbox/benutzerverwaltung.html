<!-- stumpp.name -->
<!--  v6 07.01.2024 jetzt mit Bundles -->
<!--  v7 08.01.2024 pkg.version statt site.version -->
<!--  v8 14.01.2024 redirect statt meta_... -->
<!--  v9 09.03.2025 language in page or _site or "de" -->
<!-- v10 21.04.2025 ‚Ä¶unchanged‚Ä¶ -->
<!DOCTYPE html>
<html lang="de">
    <head>
		<meta charset="utf-8">											<!-- The following 2 meta tags *must* come first in the <head> -->
		<meta http-equiv="content-type" content="text/html;charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1">
		<base href="/">
		
		<meta name="robots" content="none">								<!-- Control the behavior of search engine crawling and indexing -->
		<meta name="googlebot" content="none">							<!-- All Search Engines -->
		<meta name="google" content="nositelinkssearchbox">				<!-- Tells Google not to show the sitelinks search box -->
		<meta name="google" content="notranslate">						<!-- Tells Google not to provide a translation for this document -->
		<meta name="google" content="noimageindex">						<!-- Tells Google not to index images -->
		<meta name="generator" content="eleventy">						<!-- Identify the software used to build the document, Eleventy ftw! -->
		<meta name="format-detection" content="telephone=no">			<!-- Disable automatic detection and formatting of possible phone numbers -->
		<meta name="generator" content="Eleventy v3.0.0">

		<title>Michas Blog</title>
		<meta name="description" content="User Edit">

		<link rel="stylesheet" href="static/stylesheets.css" />			<!-- Alle Stylesheets in include √ºber stylesheets.njk -->

		<script src="static/javascripts.js" defer></script>			<!-- Alle Javascripts in include √ºber javascripts.njk -->
    </head>

    <body>
		
<!-- Adaption f√ºr Mareikes Blog M√§rz 2025 -->

<style>
@media (max-width:300px){ .w3-hide-tiny{display:none!important} }
.w3-spin-1{animation:w3-spin-1 4s 1 linear}@keyframes w3-spin-1{0%{transform:rotate(0deg)}100%{transform:rotate(359deg)}}
.w3-redden{animation:w3-redden 2s 1 linear}@keyframes w3-redden{0%{background-color:inherit)}50%{background-color:#f44336C0}100%{background-color:inherit}}
.w3-greenen{animation:w3-greenen 2s 1 linear}@keyframes w3-greenen{0%{background-color:inherit)}50%{background-color:#4CAF50C0}100%{background-color:inherit}}
</style>






<div style="position:relative">
	<img src="/static/img/bg/abstract-lines.png" width="50%" alt="Background image" class="w3-display-bottomleft" style="position:fixed;z-index:-1;opacity:0.3">
</div>



<header class="">
	<div class="w3-container theme-pale">
		<img src=/static/pagelogo.svg
			 alt="|d('page logo')"
			 class="w3-left w3-padding w3-hide-tiny"
			 style="margin:0px 0;height:120px;"
			 
	id="layoutLogo"
	onmouseover="document.getElementById('layoutLogo').classList.add('w3-spin-1');"
	onmouseout="document.getElementById('layoutLogo').classList.remove('w3-spin-1');"

			 >
		<div class="w3-left w3-hide-small">
			<h2 class="ms-text-red" style="margin-top:24px;">Michas Blog</h2>
			<h6 class="ms-text-red" style="margin-top:-1em">Version 0.5.49</h6>
		</div>
		<div class="w3-right theme-pale" style="margin-top:32px;">
			<button class="w3-btn w3-hide-small w3-circle" 
	id="layoutMail"
	onmouseover="document.getElementById('layoutMail').classList.add('w3-redden');"
	onmouseout="document.getElementById('layoutMail').classList.remove('w3-redden');"
 >
				<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="16" x="2" y="4" rx="2" /><path d="m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7" /></svg>
			</button>
			<button class="w3-btn w3-hide-small w3-circle" 
	id="layoutLogin"
	onmouseover="document.getElementById('layoutLogin').classList.add('w3-greenen');"
	onmouseout="document.getElementById('layoutLogin').classList.remove('w3-greenen');"
>
				<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2" /><circle cx="12" cy="7" r="4" /></svg>
			</button>

<!-- ---------------------- -->
<!-- MENU FOR SMALL SCREENS -->
<!-- ---------------------- -->					
			<div class="w3-dropdown-hover w3-hide-medium w3-hide-large">
				<button id="layoutMenu" class="w3-btn">
					<svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="#888" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><line x1="4" x2="20" y1="12" y2="12" /><line x1="4" x2="20" y1="6" y2="6" /><line x1="4" x2="20" y1="18" y2="18" /></svg>
				</button>			
				<div class="w3-dropdown-content w3-bar-block w3-black w3-large" style="right:-16px">
				
	<a href="/"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">üè† &nbsp; Home</a>

					
	<a href="/text.html"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">‚úçüèª &nbsp; Text</a>

								
	<a href="/text.html?src=https://text.tchncs.de/m-e-st"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Michas Blog</a>

								
							
								
	<a href="/text.html?src=https://text.tchncs.de/software-werkzeuge"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Software Werkzeuge</a>

								
							
								
	<a href="/text.html?src=https://text.tchncs.de/statische-webseiten"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Statische Webseiten</a>

								
							
								
	<a href="/text.html?src=https://text.tchncs.de/home-automation"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Home Automation</a>

								
							
					
	<a href="/family"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						loggedin
						 
			 ">üîè &nbsp; Familie</a>

					
	<a href="/etc"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						loggedin
						 
			 ">üï∏ &nbsp; Sonstiges</a>

					
	<a href="/about.html"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						w3-right 
						
						 
			 ">üë®üèª‚Äçü¶≥ &nbsp; √úber</a>

					
	<a href="/docs"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						w3-right 
						loggedin
						 
			 ">üìö &nbsp; Doku</a>

					
				</div>
			</div>
		</div>
		<!-- Ende Buttons oben rechts-->
	</div>


	<div class="w3-panel w3-black w3-small w3-hide-medium w3-hide-large">&nbsp;</div>

	
<!-- ---------------------- -->
<!-- MENU FOR LARGE SCREENS -->
<!-- ---------------------- -->	
	<div class="w3-panel w3-black w3-small w3-hide-medium w3-hide-large">&nbsp;</div>
	<nav class="w3-bar w3-black w3-large w3-hide-small">
		<span class="w3-bar-item"></span>
		<span class="w3-bar-item w3-right"></span>
	
		
				
	<a href="/"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">üè†</a>

			
				<div class="w3-dropdown-hover">
	<a href="/text.html"
	   target="_self"
	   class="w3-button  
						
						 
						 
						
						 
			 ">‚úçüèª</a>
<div class="w3-dropdown-content w3-bar-block w3-black">
					
							
	<a href="/text.html?src=https://text.tchncs.de/m-e-st"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">Michas Blog</a>

						
							
	<a href="/text.html?src=https://text.tchncs.de/software-werkzeuge"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">Software Werkzeuge</a>

						
							
	<a href="/text.html?src=https://text.tchncs.de/statische-webseiten"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">Statische Webseiten</a>

						
							
	<a href="/text.html?src=https://text.tchncs.de/home-automation"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						
						 
			 ">Home Automation</a>

						
					</div>
				</div>
			
				
	<a href="/family"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						loggedin
						 
			 ">üîè</a>

			
				
	<a href="/etc"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						 
						loggedin
						 
			 ">üï∏</a>

			
				
	<a href="/about.html"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						w3-right 
						
						 
			 ">üë®üèª‚Äçü¶≥</a>

			
				
	<a href="/docs"
	   target="_self"
	   class="w3-button  
						w3-bar-item 
						 
						w3-right 
						loggedin
						 
			 ">üìö</a>

			
	</nav>
</header>



<main>
	<div class="loggedin w3-section w3-container">
	
<style>
.svgImage {
	width: 64px;
	float: right;
}
.svgIcon {
	width: 32px;
	float: left;
	margin: 8px 16px 8px 0;
}
</style>

<div style="position:relative">
	<img src="/static/img/tech-macintosh.png" alt="A Macintosh Computer" class="w3-display-topmiddle" style="top:170px;height:90%;object-fit:contain;position:fixed;z-index:-1;opacity:0.3">
</div>

<section class="loggedin" style="position:relative;z-index:1;opacity:0.6">
	
	<h2 class="w3-panel w3-padding w3-teal">Benutzerverwaltung</h2>
	<!-- DB TOOLS SPECIAL
 --- Registrierung f√ºr beschr√§nkte Bereiche
 --->
<!-- v4 15.08.2023 file structure changed to "static" dir -->
<!-- v5 16.08.2023 moved to network -->


<style>
	.login {
		margin-top:.3em;
		font-variant: small-caps;
  	}	
  	#rDisplay, #rSubmit {
		cursor: pointer;
	}
	input {color:#000!important;background-color:#f4fffc!important}
	.w3-pale-teal,.w3-hover-pale-teal:hover{color:#000!important;background-color:#82CBB2!important}
	.w3-section-small{margin-top:8px!important;margin-bottom:8px!important}
	

.ms-tooltip { position: relative;display: inline-block;border-bottom: 1px dotted black; }
.ms-tooltip:hover:after {  display: block; }
.ms-tooltip:after{	position: absolute; top: 0px; right: 0; left: 0; display: none; 
					line-height:32px; text-align: center;
					background-color: #82CBB2;  color: #000;
					border-radius: 4px; padding: 2px; }
#userButton:after { content: "Automatik"; }
#passButton:after { content: "Anzeigen";  }
#hashButton:after { content: "Kopieren";  }
</style>

<div class="">
	<div class="w3-container w3-card-4">
			<div class="xw3-mobile w3-section">
				<div class="w3-padding w3-bar">
					<button id="userButton" class="w3-button w3-bar-item w3-teal w3-hover-pale-teal ms-tooltip" 
							style="width:7em"
							onclick="automaticPassword()";
					>Username</button>
					<input	id="userName" class="w3-input w3-border w3-bar-item" style="100%"
							name="userName" size="90" required type="text" placeholder="user"
							pattern="[A-Za-z0-9_]+" 
							title="Im Benutzernamen sind nur Buchstaben, Zahlen, Bindestrich, Unterstrich oder Punkt erlaubt."
					>
				</div>
				<div class="w3-padding w3-bar">
					<button id="passButton" class="w3-button w3-bar-item w3-teal w3-hover-pale-teal ms-tooltip" 
							style="width:7em;cursor:url"
							onMouseOver="document.getElementById('userPass').setAttribute(`type`, `text`);";
							onMouseOut="document.getElementById('userPass').setAttribute(`type`, `password`);";
					>Password</button>
					<input id="userPass" class="w3-input w3-border w3-bar-item" name="userPass" size="90" required type="password" placeholder="password">
				</div>
				<div class="w3-padding w3-bar">
					<button id="hashButton" class="w3-button w3-bar-item w3-teal w3-hover-pale-teal ms-tooltip" 
							style="width:7em"
							onclick="copyHashToClipboard()";
					>Hashvalue</button>
					<input id="userHash" class="w3-input w3-border w3-bar-item" name="userHash" size="90" readonly type="text">
				</div>
			</div>
		</div>
</div>

<script>
document.addEventListener("DOMContentLoaded", function(event) {
	const colInputs = document.getElementsByTagName("input");

	document.getElementById('userPass').addEventListener("change", function(event) {
		document.getElementById('userHash').value = _hash(document.getElementById('userPass').value);
	});

	document.getElementById('userName').addEventListener("keydown", function(event) {
		if (event.code == 'Escape') {
			const pass = this.value.split("").reverse().join("");
			const hash = _hash(pass);
			document.getElementById('userPass').value = pass;
			document.getElementById('userHash').value = hash;
			copyToClipboard(hash); /* just to add it to the clipboard */
			document.getElementById('userName').focus();
			console.log(pass, " ==> ", hash);
		}
	});
	//~ document.getElementById('userName').value = user.name();
});
			
function automaticPassword() {
	const user = document.getElementById('userName').value;
	const pass = user.split("").reverse().join("");
	const hash = _hash(pass);
	document.getElementById('userPass').value = pass;
	document.getElementById('userHash').value = hash;
	copyToClipboard(hash); /* just to add it to the clipboard */
	document.getElementById('userName').focus();
	return false;
}			

function copyHashToClipboard() {
	copyToClipboard(document.getElementById('userHash').value);
	return false;
}

function _hash(password) {
	const hashObj = new jsSHA("SHA-512", "TEXT", { encoding: "UTF8"} );
	hashObj.update(password);
	return hashObj.getHash("B64");
}
</script>


</section>

	</div>
	<div class="unlogged">
	<style>
.unlogged {
	background-color:#d6d6d6; /* kv timberwolf #d6d6d6*/
	width:100%;
	height:100vh;
	
  margin: 0;
  padding: 0;
}
.wrapper {
  height: 100%;
  width: 100%;
  background: linear-gradient(180deg, #04fafd, 5%, #119dff, 50%, #030423);
  position: absolute;
}
.wrapper h1 {
	text-align:center;
  top: 35%;
  left: 50%;
  transform: translate(-50%, -50%);
  position: absolute;
  font-family: sans-serif;
  letter-spacing: 1px;
  word-spacing: 2px;
  color: #fff;
  font-size: 30px;
  font-weight: 888;
  text-transform: uppercase;
}
.wrapper div {
  height: 60px;
  width: 60px;
  border: 2px solid rgba(255, 255, 255, 0.7);
  border-radius: 50px;
  position: absolute;
  top: 10%;
  left: 10%;
  animation: 4s linear infinite;
}
div .dot {
  height: 10px;
  width: 10px;
  border-radius: 50px;
  background: rgba(255, 255, 255, 0.5);
  position: absolute;
  top: 20%;
  right: 20%;
}
.wrapper div:nth-child(1) {
  top: 20%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(2) {
  top: 60%;
  left: 80%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(3) {
  top: 40%;
  left: 40%;
  animation: animate 3s linear infinite;
}
.wrapper div:nth-child(4) {
  top: 66%;
  left: 30%;
  animation: animate 7s linear infinite;
}
.wrapper div:nth-child(5) {
  top: 90%;
  left: 10%;
  animation: animate 9s linear infinite;
}
.wrapper div:nth-child(6) {
  top: 30%;
  left: 60%;
  animation: animate 5s linear infinite;
}
.wrapper div:nth-child(7) {
  top: 70%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(8) {
  top: 75%;
  left: 60%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(9) {
  top: 50%;
  left: 50%;
  animation: animate 6s linear infinite;
}
.wrapper div:nth-child(10) {
  top: 45%;
  left: 20%;
  animation: animate 10s linear infinite;
}
.wrapper div:nth-child(11) {
  top: 10%;
  left: 90%;
  animation: animate 9s linear infinite;
}
.wrapper div:nth-child(12) {
  top: 20%;
  left: 70%;
  animation: animate 7s linear infinite;
}
.wrapper div:nth-child(13) {
  top: 20%;
  left: 20%;
  animation: animate 8s linear infinite;
}
.wrapper div:nth-child(14) {
  top: 60%;
  left: 5%;
  animation: animate 6s linear infinite;
}
.wrapper div:nth-child(15) {
  top: 90%;
  left: 80%;
  animation: animate 9s linear infinite;
}
@keyframes animate {
  0% {
    transform: scale(0) translateY(0) rotate(70deg);
  }
  100% {
    transform: scale(1.3) translateY(-100px) rotate(360deg);
  }
}

	
</style>

<article class="unlogged">
		
	<div class="wrapper">
		<h1>Bitte anmelden<br>Please log in<br>Por favor inicia sesi√≥n</h1>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
		<div><span class="dot"></span></div>
	</div>
</article>

	</div>
</main>



<footer class="w3-bottom" style="height:48px;">
	<div class="w3-container w3-transparent w3-padding-large w3-center">
		<button class="w3-mobile w3-hide-small w3-btn w3-left w3-tooltip" onclick="footerToggleVisibility('layoutCopyright');">
			&nbsp;<span class="w3-text"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect width="20" height="12" x="2" y="6" rx="6" ry="6" /><circle cx="16" cy="12" r="2" /></svg></span>
		</button> <!-- was: &#127465;&#127466; -->

		<div id="layoutCopyright" class="w3-mobile w3-hide-small" style="display:none;">
			<span class="w3-text-blue-grey">
				&copy; 2025 
				<a href="/about.html | d('#')">Michael Stumpp</a>
				<span id="versionstring"></span> <span id="username"></span> <span id="dataversion"></span>
			</span>
		</div>

	</div>
</footer>




<!-- The Modals -->
<div id="popupLogin" class="w3-modal">
  <div class="w3-modal-content w3-sand" style="width:50%">
    <div class="w3-container w3-padding w3-border-amber w3-leftbar w3-rightbar">
      <span onclick="closeModal('popupLogin');" class="w3-btn w3-display-topright">&times;</span>
      <div class="w3-center w3-display-top" style="margin:0 24px"><h3>Anmeldung</h3></div>
      <!-- stumpp.name - modal login.njk -->
<!-- wieder modal im Sprachcafe (05.03.2025) -->
<!-- nicht modal bei assaf (09.03.2025) -->

<style>
.topmargin { margin-top:4px; }
</style>
<form>
	<div class="w3-row-padding w3-padding">
		<div class="w3-col m10">
			<div class="w3-col m12 l6 topmargin">
				<input	id="loginUser"
						onchange="loginExec_Enable();"
						onblur="loginExec_Enable();"
						class="w3-input w3-border" type="text" placeholder="Benutzer">
			</div>
			<div class="w3-col m12 l6 topmargin">
				<input	id="loginPass" 
						onchange="loginExec_Enable();"
						onblur="loginExec_Enable();"
						class="w3-input w3-border" type="password" placeholder="Kennwort">
			</div>
		</div>
		<div class="w3-col m2">
			<div class="w3-right">
				<button class="w3-button w3-green w3-disabled w3-hover-green topmargin" 
						id = "loginExec"
						onclick="loginExec_Click();"
						onmouseover="loginExec_Enable();"
						title="Anmelden"><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4" /><polyline points="10 17 15 12 10 7" /><line x1="15" x2="3" y1="12" y2="12" /></svg></button>
				<button class="w3-button w3-pale-red w3-hover-red topmargin"   
						onclick="loginClear_Click()"
						title="Anmeldung abbrechen"><svg xmlns="http://www.w3.org/2000/svg" width="20px" height="20px" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 6 6 18" /><path d="m6 6 12 12" /></svg></button>
			</div>
		</div>
	</div> 
</form>

<script>
var loginRetryCounter = 0;

function loginExec_Click() {
	const givenUser = document.getElementById('loginUser').value;
	const givenPass = document.getElementById('loginPass').value;
	//~ console.log(`user=${givenUser}`,`pass=${givenPass}`);
	if (user.logon(givenUser, givenPass)) {		/* on successful login  ... */
		signIn(true);
		//~ console.log ("success", user.name());
		
	} else {									/* if not authenticated ... */
		if (++loginRetryCounter >= 3) {
			user.logoff();	/* if logged in before, throw out after three misses */
			document.getElementById('loginUser').value = '';
			signIn(false);
		}
		/* stay in modal form if less than max retries */
	}
	loginRetryCounter = 0;
	document.getElementById('loginPass').value = '';	/* always clear pass field !! */
}

function loginClear_Click() {
	document.getElementById('loginUser').value = '';
	document.getElementById('loginPass').value = '';
	loginExec_Enable();
}

function loginExec_Enable() {
	const enabled = (document.getElementById('loginUser').value.length > 0) 
				 && (document.getElementById('loginPass').value.length > 0);
	const classList = document.getElementById('loginExec').classList
	if (enabled)
		 classList.remove('w3-disabled');
	else classList.add('w3-disabled');
}

</script>

    </div>
  </div>
</div>


<script>
function footerToggleVisibility(id="copyright") {
  var domX = document.getElementById(id);
  if (domX.style.display === "none") {
    domX.style.display = "block";
  } else {
    domX.style.display = "none";
  }
}
</script>


    </body>
</html>
